---
layout: post
title: メールが送れるようになりました - CandyCane v0.7.1
date: 2011-05-31 11:08:35.000000000 +09:00
categories:
- ブログ
tags:
- CakePHP
- candycane
status: publish
type: post
published: true
meta:
  _edit_last: '2'
author:
  login: yandod
  email: ando@rikezemi.com
  display_name: yandod
  first_name: Yusuke
  last_name: Ando
---
<p><a href="http://blog.candycane.jp/wp-content/uploads/2011/05/candycane.png"><img src="http://blog.candycane.jp/wp-content/uploads/2011/05/candycane-300x115.png" alt="" title="candycane" width="300" height="115" class="aligncenter size-medium wp-image-705" /></a></p>
<p><a href="https://github.com/yandod/candycane/archives/v0.7.1">v0.7.1ダウンロードページ</a></p>
<p>草葉の陰で粛々と開発中のcandycaneの更新情報です。<br />
5月分の作業の目処がついたのでバージョンを打ちました。バグフィックス中心ですが、<strong>更新情報をメールで通知する機能を新規に実装しました。</strong>これは実際にイベントの運営管理でチームメンバーと課題を共有する必要があり、必要性に応じて実装を行いました。<br />
元のRedmineの実装ではActionMailerを使っていたので<a href="http://debuggable.com/posts/a-solution-for-e-mail-sending-in-cakephp:480f4dd5-b500-4bdc-a6c5-4ef6cbdd56cb">CakePHP用のActionMailerのコード例</a>(by <a href="http://twitter.com/#!/felixge">@felixge</a>)を微妙に修正したものを取込んでいます。<br />
メールが送信されるさまざまなイベントに送信のトリガーを仕込む必要がありますが、現在はチケットの新規登録と更新時のみメールが送信されるようになっています。</p>
<p><a href="http://my.candycane.jp/versions/show/13">延べ作業時間は23.75時間、12のバグ修正と1つの機能追加</a>というのが作業の概要です。</p>
<ul>
<li><a href="http://my.candycane.jp/issues/show/99" class=" issue closed">バグ #99</a>: ロードマップの件数をクリック後に検索条件が適用されていない</li>
<li><a href="http://my.candycane.jp/issues/show/106" class=" issue closed">バグ #106</a>: ロールの編集ができない</li>
<li><a href="http://my.candycane.jp/issues/show/110" class=" issue closed">バグ #110</a>: カスタムフィールドの登録が出来ない</li>
<li><a href="http://my.candycane.jp/issues/show/116" class=" issue closed">バグ #116</a>: ロードマップに表示されるタイムトラッキングの情報が絞り込まれていない</li>
<li><a href="http://my.candycane.jp/issues/show/117" class=" issue closed">バグ #117</a>: バージョン情報を更新後にリダイレクトしない</li>
<li><a href="http://my.candycane.jp/issues/show/118" class=" issue closed">バグ #118</a>: 全ての活動からニュースをクリックするとエラー</li>
<li><a href="http://my.candycane.jp/issues/show/120" class=" issue closed">バグ #120</a>: チケットのフィルタに対象バージョンがない</li>
<li><a href="http://my.candycane.jp/issues/show/121" class=" issue closed">バグ #121</a>: Wikiに権限制限がかかっていない</li>
<li><a href="http://my.candycane.jp/issues/show/122" class=" issue closed">バグ #122</a>: 変更履歴ページのバージョンがソートされていない</li>
<li><a href="http://my.candycane.jp/issues/show/123" class=" issue closed">バグ #123</a>: 非公開のカスタムクエリが表示されない</li>
<li><a href="http://my.candycane.jp/issues/show/126" class=" issue closed">バグ #126</a>: 活動のRSSが壊れている</li>
<li><a href="http://my.candycane.jp/issues/show/128" class=" issue closed">バグ #128</a>: ユーザーのステータス変更ができない</li>
<li><a href="http://my.candycane.jp/issues/show/127" class=" issue closed">機能 #127</a>: 更新のメール通知</li>
</ul>
<p>正直なところ１人で空いた時間に進めるにはこのくらいの作業量が限界かなと思います。（他にもブログを書いたりしているので）リファクタリングやバグつぶし、単体テストなどやりたい事はたくさんあるんですが、、、さてどうなりますか。コードをいじってみたい方はまずインストールしてみて、バグ探しや既知のバグの修正などをやってみてもらえるととても助かります。<br />
マニュアルの作成なんかもやりたいんですが、orz。</p>
<p>あとメールの<a href="https://github.com/yandod/candycane/commit/f0588de8441702c988962becae21b98cccbdf58b">受信者を割り出す処理</a>にバグがあって、テストサイトにアドレスを登録している方々にSPAMが送信されました。ご迷惑をおかけして申し訳ありません。</p>
<p><a href="http://blog.candycane.jp/archives/642">前回のリリースノート</a></p>
